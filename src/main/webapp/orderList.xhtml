<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>Facelet Title</title>
        <style>
            .badge {
    background-color: #777;
    border-radius: 10px;
    color: #fff;
    display: inline-block;
    font-size: 12px;
    font-weight: 700;
    line-height: 1;
    min-width: 10px;
    padding: 3px 7px;
    text-align: center;
    vertical-align: baseline;
    white-space: nowrap;
}
        </style>
    </h:head>
    <h:body>
        <h:form>
            <p:ajaxStatus />
            <p:orderList value="#{orderListController.cities}" var="city" itemValue="#{city}" controlsLocation="right" effect="fold"
                         valueChangeListener="#{orderListController.change}">
                <f:facet name="caption">
                    <p:column style="width: 25%">asdf</p:column>    
                    <p:column style="width: 75%">aasdfsdf</p:column> 
                </f:facet>
                <p:column style="width: 25%">
                    <div class="badge">1</div>
                </p:column>
                <p:column style="width: 75%">
                    <p:outputLabel value="#{city}" />
                </p:column>
            </p:orderList>
            
            <p:commandButton value="Submit" update="display" oncomplete="PF('mydlg').show()"/>
            <p:separator />
            <p:dialog widgetVar="mydlg">
                <p:dataList id="display" value="#{orderListController.cities}" var="city"  rowIndexVar="rowindex">
                    <p:outputLabel value="#{rowindex} - #{city}" />
                </p:dataList>
            </p:dialog>
        </h:form>
        <p:separator />
        <h:form>
            <p:orderList value="#{orderListController.users}" var="user" itemValue="#{user}" controlsLocation="right" effect="fold"
                         converter="userconverter">
                <f:facet name="caption">
                    <div>Users</div>
                </f:facet>
                <p:column style="width: 25%">
                    <div>#{user.id}</div>
                </p:column>
                <p:column style="width: 25%">
                    <div>#{user.firstName}</div>
                </p:column>
                <p:column style="width: 25%">
                    <div>#{user.lastName}</div>
                </p:column>
                <p:column style="width: 25%">
                    <div>#{user.sequence}</div>
                </p:column>
            </p:orderList>
            <p:commandButton value="Change Order" update="mypanel"/>
            <p:outputPanel id="mypanel">
                <p:dataList value="#{orderListController.users}" var="user" >
                    <p:column>#{user.lastName}</p:column>
                </p:dataList>
            </p:outputPanel>
        </h:form>
    </h:body>
</html>

